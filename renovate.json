{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "extends": [
        "config:recommended"
    ],
    "enabledManagers": [
        "custom.regex"
    ],
    "timezone": "UTC",
    "prConcurrentLimit": 5,
    "gitAuthor": "rtfm-47 <rtfm47@lando.dev>",
    "customManagers": [
        {
            "customType": "regex",
            "fileMatch": [
                "builders/builders\\.yml$"
            ],
            "matchStrings": [
                "  version: '(?<currentValue>.*?)'"
            ],
            "depNameTemplate": "golang",
            "datasourceTemplate": "docker",
            "versioningTemplate": "loose"
        },
        {
            "customType": "regex",
            "fileMatch": [
                "builders/builders\\.yml$"
            ],
            "matchStrings": [
                "    - '(?<currentValue>.*?)'"
            ],
            "depNameTemplate": "golang",
            "datasourceTemplate": "docker",
            "versioningTemplate": "loose"
        },
        {
            "customType": "regex",
            "fileMatch": [
                "README\\.md$",
                "docs/.*\\.md$",
                "examples/.*/.lando\\.yml$"
            ],
            "matchStrings": [
                "type: go:(?<currentValue>\\d+\\.\\d+)"
            ],
            "depNameTemplate": "golang",
            "datasourceTemplate": "docker",
            "versioningTemplate": "loose"
        }
    ],
    "packageRules": [
        {
            "matchPackageNames": [
                "golang"
            ],
            "matchDatasources": [
                "docker"
            ],
            "groupName": "golang versions",
            "schedule": [
                "after 3:15am and before 5am on monday"
            ],
            "separateMinorPatch": true,
            "automerge": true,
            "platformAutomerge": true,
            "labels": [
                "dependencies",
                "golang"
            ],
            "versioning": "loose",
            "allowedVersions": "^1\\."
        }
    ],
    "prBodyTemplate": "{{{header}}}{{{table}}}{{{notes}}}{{{changelogs}}}{{{controls}}}{{{footer}}}",
    "prFooter": "These are the droids you are looking for: [Renovate](https://renovatebot.com) ðŸ¤–",
    "updateInternalDeps": true,
    "postUpgradeTasks": {
        "commands": [
            "if [[ \"${depName}\" == \"golang\" ]]; then echo \"## [${newVersion}] - $(date +%Y-%m-%d)\\n\\n### Changed\\n\\n* Added Go ${newVersion} to supported versions\\n* Updated documentation and examples to reference Go ${newVersion} as the latest version\\n\" >> CHANGELOG.md; fi"
        ],
        "fileFilters": [
            "CHANGELOG.md"
        ],
        "executionMode": "update"
    }
}
